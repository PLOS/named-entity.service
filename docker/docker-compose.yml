neddb:
    image: percona:5.6
    environment:
      - MYSQL_ROOT_PASSWORD=root

nedapi:
    build: .
    links:
      - neddb:neddb
    ports:
      - "8080:8080"
    environment:
      - MYSQL_ROOT_PASSWORD=root
      - MYSQL_NED_USER=ned
      - MYSQL_NED_PASSWORD=ned
      - MYSQL_HOSTNAME=neddb
      - MYSQL_DATABASE=namedEntities

nedbuilder:
    # build: builder
    image: maven:3.3-jdk-8
    command: cd /src && ./ned.sh package
    volumes:
      - ..:/src
      # - /root/.m2 # cache maven cache to docker volume for future builds
